{"note":"Don't delete this file! It's used internally to help with page regeneration.","name":"Web-default","tagline":"Very basic virtual hosting configuration","google":"","body":"web-default\r\n===========\r\n\r\nVery basic virtual hosting configuration\r\n\r\nInitial Setup\r\n-------------\r\nDefault/Global settings\r\n\r\n* Clone git repo (or install)\r\n\r\n```bash\r\nmkdir /web\r\ncd /web\r\ngit clone https://github.com/TJM/web-default DEFAULT\r\n```\r\n\r\n* Link Scripts\r\n\r\n```bash\r\nmkdir -p /root/bin && ln -s /web/DEFAULT/bin/* /root/bin/\r\n```    \r\n\r\n* Link Virtual Host Permissions file\r\n\r\n```bash\r\nln -s /web/DEFAULT/conf/y-VirtualHostPermissions.conf /etc/httpd/conf.d/\r\n```\r\n\r\n* Create a DEV password (used to access dev.DOMAIN.COM)\r\n\r\n```bash\r\nhtpasswd -c /web/DEFAULT/pw/dev.pw DEVUSER\r\n```\r\n\r\n* Insert SSH Keys into /web/DEFAULT/conf/authorized_keys2 (these will be automatically propagated to every website)\r\n\r\n```bash\r\ncat >> /web/DEFAULT/authorized_keys2\r\n\t[[paste keys in]]\r\n\tCTRL+D\r\n```\r\n\r\n* Run updateAllWebConfigs\r\n\r\n```bash\r\nupdateAllWebConfigs\r\n```\r\n\r\n* Restart Apache\r\n\r\n```bash\r\nservice httpd restart\r\n```\r\n* Create a default website\r\n\r\n```bash\r\ntouch website/index.html\r\n```\r\n\r\nAdding a new host\r\n------------------\r\n```bash\r\nuseradd -d /web/somedomain.com -c \"somedomain.com\" somedomain\r\nupdateAllWebConfigs\r\nservice httpd restart\r\n```\r\n(TBD)\r\n"}