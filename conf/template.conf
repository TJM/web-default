### START TEMPLATE CONFIG
##### DO NOT EDIT THIS FILE DIRECTLY #####

<VirtualHost *:80>
	ServerName	DOMAIN
	ServerAlias	www.DOMAIN
	ServerAdmin	webmaster@DOMAIN
	Alias		/stats /web/DOMAIN/stats
	DocumentRoot	/web/DOMAIN/prod/public_html
	CustomLog	/web/DOMAIN/logs/access.log combined
	ErrorLog	/web/DOMAIN/logs/errors.log
#suphp#	suPHP_UserGroup OWNER GROUP
#suexec#	SuexecUserGroup OWNER GROUP

	# Rewrite Rules
	RewriteEngine on
	# Block access to .git*
	RewriteRule ^(.*/)?\.git+ - [F,L]
	ErrorDocument 403 "Access Forbidden"

	# Rewrite to www
#www#	RewriteCond %{HTTP_HOST} ^DOMAIN$ [NC]
#www#	RewriteRule ^(.*)/$ http://www.DOMAIN/$1 [R=301,L]
</VirtualHost>

<VirtualHost *:80>
	ServerName	dev.DOMAIN
	ServerAdmin	webmaster@DOMAIN
	DocumentRoot	/web/DOMAIN/dev/public_html
	CustomLog	/web/DOMAIN/logs/dev-access.log combined
	ErrorLog	/web/DOMAIN/logs/dev-errors.log
#suphp#	suPHP_UserGroup OWNER GROUP
#suexec#	SuexecUserGroup OWNER GROUP
	# Rewrite Rules
	RewriteEngine on
	# Block access to .git*
	RewriteRule ^(.*/)?\.git+ - [F,L]
	ErrorDocument 403 "Access Forbidden"
	# Authentication
	<Location />
		Order deny,allow
		deny from all
		require valid-user
		# DEFAULT
		AuthType Basic       
		AuthUserFile /web/DEFAULT/pw/dev.htpw
		AuthName "CKDEVELOPMENT"
		require valid-user
		satisfy any
	</Location>
</VirtualHost>

<VirtualHost *:80>
	ServerName	stage.DOMAIN
	ServerAdmin	webmaster@DOMAIN
	DocumentRoot	/web/DOMAIN/stage/public_html
	CustomLog	/web/DOMAIN/logs/stage-access.log combined
	ErrorLog	/web/DOMAIN/logs/stage-errors.log
#suphp#	suPHP_UserGroup OWNER GROUP
#suexec#	SuexecUserGroup OWNER GROUP
	# Rewrite Rules
	RewriteEngine on
	# Block access to .git*
	RewriteRule ^(.*/)?\.git+ - [F,L]
	ErrorDocument 403 "Access Forbidden"
	# Authentication
	<Location />
		Order deny,allow
		deny from all
		AuthType Basic
		AuthUserFile /web/DOMAIN/pw/stage.htpw
		AuthName "DOMAIN - STAGE"
		require valid-user
		satisfy any
	</Location>
</VirtualHost>

### END TEMPLATE CONFIG
